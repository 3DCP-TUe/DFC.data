# 3D Sneak Peek: 3DCP Database TU/e

[![CC BY-SA 4.0][cc-by-sa-shield]][cc-by-sa]

## Todo and for discussion

- [ ] To discuss: Metadata file of coriolis sensor, liquid dosing system flow sensor: how to define the sensor settings, they can be changed. 
- [ ] To discuss: Do we number each rotor stator, like mai-40ll-0s-1, mai-40ll-0s-2, mai-40ll-0s-3, etc. or just one? 
- [ ] To discuss: Open science statement -> also copy it to organization README and other repositories? 
- [ ] To discuss: Calibration reports for different dosing systems and mixer pumps for different materials -> where to store? 
- [ ] To discuss: Where and how to define the OPC UA tags? 

- [ ] Finish this README: Write introduction, etc. 
- [ ] Add temperature and relative humidity sensor on sensing station
- [ ] Add metadata file and photos of MAI MULTIMIX + describe modifications
- [ ] Add metadata file and photos of m-tec duomix + describe modifications
- [ ] Add metadata file of silos: add vibration block, aeration pads, etc. 
- [ ] Can node-red columns be linked to equipment in an automation fashion? 
- [ ] Add .zenodo.json file

Can be added after first release (make GitHub issues of these?):

- [ ] ACE, FRED and ADS: Discuss which info can be made available with Zavhy. 
- [ ] Add metadata and photo of Bronkhorst dosing system
- [ ] Add metadata and photo of servo motors of printhead PLC
- [ ] Add metadata and photo of peristaltic pump
- [ ] Add metadata and photo of m-tec P20 + pressure flange + insertable screws, etc.
- [ ] Add metadata and photo of liquid dosing system seepex
- [ ] Add metadata and photo of MAI Pictor + insert dynamic mixing blade + pressure flange + rotor stator, etc. 
- [ ] Add info of tool changer on ABB robot (include in ABB robot metadata file)
- [ ] Add script/tool that gets setupinfo folders based on session metadata files
- [ ] Add script/tool that can check based on metadata of components and assembly if the configuration is possible
- [ ] Add script/tool that calculates system length, volume, etc. 

Of most equipment of minimal metada file is added so it can be refered to in session metadata files. 

## Introduction 

This repository contains the template and setup information library for the 3D Sneak Peek database. The aim of this project is to collect experimental data about 3D concrete printing in a structured way and distribute this data to the community. This repository includes the system library of the equipment at TU/e and the templates for data records and software packages.

## Structure

### Setup info structure

#### Folder structure

The components are categorized as follows: 

```
class: conduit
class: material delivery systems
    main object: material delivery plc
    subclass: dosing systems
    subclass: inserts
    subclass: mixer pumps
    subclass: pumps
    subclass: silos/storage
class: motion systems
class: printheads
    main object: printhead plc
    subclass: inserts
    subclass: nozzles
    subclass: static
    subclass: dynamic
class: sensors
```

Inserts are components that are placed inside other components. Examples include feeding screws used in dosing systems and mixing blades.

#### Component folder structure

```
+-- component
|   +-- name
|   |   +-- docs
|   |   |   +-- doc.pdf
|   |   |   +-- ...
|   |   +-- metadata.yml
|   |   +-- name.stl
|   |   +-- name.jpg
|   |   +-- ...
```

#### Coding system

```
mc25f   Mortar coupling, 25 mm, female          (options: 25, 35, 50, female, male)
mc35m   Mortar coupling, 35 mm, male            (options: 25, 35, 50, female, male)
fl40    Flange DN40                             (options: 5, 10, 15, 20, 25, 32, 40, etc.)
tc93    Tri-clamp flange diameter 93 mm         (options: 25, 51, 64, 78, 91, 119, etc.)
pi6     Push-in fitting 6 mm outer diameter     (options: 4, 6, 8, 10, 12, etc.)
so42    Slip-on 42 mm outer diameter
geka    GEKA coupling
pfd     Pressure flange for D-pump              (options: A, B, C, D, R, T, L-pump)
sfr     Suction flange for R-pump               (options: A, B, C, D, R, T, L-pump)
```

Logic used for a component: `COUPLING_IN-COUPLING_OUT-DIAMETER-OPTIONAL_DIAMETER_2-CUSTOM_PROPERTY-ID_NUMBER`

Examples are:

```
hose mc35f-mc35m-d35-l5000-1
reducer tc93-tc64-d73-d50-1
elbow mc35f-mc35m-d35-a90-1
adapter fl40-mc35m-d35-1
coriolis sensor fl40-fl40-d35-1
pressure sensor mc35f-mc35m-d35-25bar-1
pressure sensor mc35f-mc35m-d35-25bar-2
pressure sensor mc35f-mc35m-d35-10bar-1
```

### Software structure

Each software package includes four standard folders:

- analysis: Contains template files for processing the acquired data.
- database template: Stores the raw data and metadata generated by the software packages.
- src: Contains the source code for data acquisition (the main program).
- utils: Includes support materials, such as figures for the README, etc.

```
+-- software package
|   +-- analysis
|   |   +-- script.py
|   +-- database template
|   |   +-- data.csv
|   |   +-- metadata.ymal
|   |   +-- ...
|   +-- src
|   |   +-- file1.py
|   |   +-- file1.py
|   |   ...
|   +-- utils
|   |   ...
|   +-- README.md
|   +-- LICENSE
```

### Database structure

```
+-- database
|   +-- session_yyyy_mm_dd
|   |   +-- node-red-3dseep
|   |   |   +-- analysis
|   |   |   |   +-- analysis.m
|   |   |   |   +-- plot1.pdf
|   |   |   |   +-- ...
|   |   |   +-- yyyymmdd_name.csv
|   |   |   +-- yyyymmdd_name_event_comments.csv
|   |   +-- concrete candy tracker
|   |   |   +-- analysis
|   |   |   |   +-- analysis.m
|   |   |   |   +-- plot1.pdf
|   |   |   |   +-- ...
|   |   |   +-- yyyymmdd_name.csv
|   |   |   +-- metadata.yml
|   |   +-- droplet detective
|   |   |   +-- analysis
|   |   |   |   +-- analysis.m
|   |   |   |   +-- plot1.pdf
|   |   |   |   +-- ...
|   |   |   +-- yyyymmdd_name.csv
|   |   |   +-- metadata.yml
|   |   +-- photos
|   |   |   +-- photo1.jpg
|   |   |   +-- ...
|   |   +-- videos
|   |   |   +-- video1.mp4
|   |   |   +-- ...
|   |   +-- metadata_session.yml
|   +-- session_yyyy_mm_dd
|   |   +-- node-red-3dseep
|   |   +-- ...
|   +-- setupinfo
|   +-- metadata_record.yml
|   +-- LICENSE
```

The analysis folders are meant to provide quick insights into the data. For example, time series plots of viscocity and pressure readings. Each software packages provides templates - example files - to generate this output. 

## Version numbering

The 3D Sneak Peak project uses the following versioning scheme: 

```
0.x.x ---> MAJOR version: Incompatible changes; for example, restructuring the database format and metadata files.
x.0.x ---> MINOR version: Functionality added in a backward-compatible manner; for example, new system components.
x.x.0 ---> PATCH version: Small backward-compatible changes; for example, small corrections in a component property.
```

## Contact information

If you have any questions or comments about this project, please open an issue on the repositoryâ€™s issue page. This can include questions about the content, such as missing information, and the data structure. We encourage you to open an issue instead of sending us emails to help establish an open community. By keeping discussions open, everyone can contribute and see the feedback and questions of others. In addition to this, please see our open science statement below.

## Open science statement

We are committed to the principles of open science to ensure that our work can be reproduced and built upon by others. Our approach includes the following key points:

- Reproducibility: We strive to make our work reproducible by sharing detailed methodologies and data.
- Unique Resources and Data: We have equipment and facilities that are not available at other institutes. We generate data that other institutes cannot produce, and we share this data openly.
- Data and Software Sharing: We share our data and software and encourage others to do the same. If others use our data and software, they must also share their software and data under similar terms.

To support these principles, we license our software under the General Public License version 3 or later (free to use, with attribution, share with source code) and our data and documentation under CC BY-SA (free to use, with attribution, share-alike). By adhering to these principles, we aim to encourage an open and collaborative scientific community. We expect that if you use our resources, you will do the same. 

## License

Copyright (c) 2024 [3D Concrete Printing Research Group at Eindhoven University of Technology](https://www.tue.nl/en/research/research-groups/structural-engineering-and-design/3d-concrete-printing)

This work is licensed under a [Creative Commons Attribution-ShareAlike 4.0 International License][cc-by-sa].

[![CC BY-SA 4.0][cc-by-sa-image]][cc-by-sa]

[cc-by-sa]: http://creativecommons.org/licenses/by-sa/4.0/
[cc-by-sa-image]: https://licensebuttons.net/l/by-sa/4.0/88x31.png
[cc-by-sa-shield]: https://img.shields.io/badge/License-CC%20BY--SA%204.0-lightgrey.svg
